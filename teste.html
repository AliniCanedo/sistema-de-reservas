<script>
    async function getContent() {
        try {
            const response = await fetch('http://localhost:3001/users')
            console.log(response)
            const data = await response.json()
            show(data)
            console.log(data)
        } catch (error) {
            console.log(error)
        }
    }
    getContent()

    function show(users) {
        let output = ''
        for (let user of users) {
            output += `<li>${user.name}, ${user.endereco.rua} | <a href="">Editar</a> | <a href=""onClick="removeLinha()">Deletar</a> </li>`
        }
        document.querySelector('main').innerHTML = output
    }

    function cadastrar() {
        alert("Você clicou no botão!");
    }
    // funcao remove uma linha da tabela
    function removeLinha(user) {
        var i = user.parentNode.parentNode.rowIndex;
        console.log(user)
        document.querySelector('li').deleteRow(i);
    }   
</script>

<body>
    <form action="http://localhost:3001/users" method="POST">
        Nome<input type="text" name="name">
        rg <input type="text" name="rg">
        cpf <input type="text" name="cpf">
        username <input type="text" name="username">
        senha <input type="text" name="senha">

        <h3>Endereço</h3>
        logradouro <input type="text" name="logradouro">
        numero <input type="text" name="numero">
        cidade <input type="text" name="cidade">
        cep <input type="text" name="cep">
        uf <input type="text" name="uf">

        <h3>cartão</h3>
        numero <input type="text" name="numero">
        data <input type="text" name="data">
        cvv <input type="text" name="cvv">


        <h3>reservas</h3>
        data <input type="text" name="numero">
        horario <input type="text" name="data">
        numerodepessoas <input type="text" name="cvv">

        <button type="submit" value="Enviar" onclick="cadastrar()">Enviar</button>
    </form>
    <main>

    </main>
</body>